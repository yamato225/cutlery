{"ast":null,"code":"'use strict';\n\nvar clear = require('es5-ext/array/#/clear'),\n    eIndexOf = require('es5-ext/array/#/e-index-of'),\n    setPrototypeOf = require('es5-ext/object/set-prototype-of'),\n    callable = require('es5-ext/object/valid-callable'),\n    validValue = require('es5-ext/object/valid-value'),\n    d = require('d'),\n    ee = require('event-emitter'),\n    Symbol = require('es6-symbol'),\n    iterator = require('es6-iterator/valid-iterable'),\n    forOf = require('es6-iterator/for-of'),\n    Iterator = require('./lib/iterator'),\n    isNative = require('./is-native-implemented'),\n    call = Function.prototype.call,\n    defineProperties = Object.defineProperties,\n    getPrototypeOf = Object.getPrototypeOf,\n    _MapPoly;\n\nmodule.exports = _MapPoly = function MapPoly()\n/*iterable*/\n{\n  var iterable = arguments[0],\n      keys,\n      values,\n      self;\n  if (!(this instanceof _MapPoly)) throw new TypeError('Constructor requires \\'new\\'');\n\n  if (isNative && setPrototypeOf && Map !== _MapPoly) {\n    self = setPrototypeOf(new Map(), getPrototypeOf(this));\n  } else {\n    self = this;\n  }\n\n  if (iterable != null) iterator(iterable);\n  defineProperties(self, {\n    __mapKeysData__: d('c', keys = []),\n    __mapValuesData__: d('c', values = [])\n  });\n  if (!iterable) return self;\n  forOf(iterable, function (value) {\n    var key = validValue(value)[0];\n    value = value[1];\n    if (eIndexOf.call(keys, key) !== -1) return;\n    keys.push(key);\n    values.push(value);\n  }, self);\n  return self;\n};\n\nif (isNative) {\n  if (setPrototypeOf) setPrototypeOf(_MapPoly, Map);\n  _MapPoly.prototype = Object.create(Map.prototype, {\n    constructor: d(_MapPoly)\n  });\n}\n\nee(defineProperties(_MapPoly.prototype, {\n  clear: d(function () {\n    if (!this.__mapKeysData__.length) return;\n    clear.call(this.__mapKeysData__);\n    clear.call(this.__mapValuesData__);\n    this.emit('_clear');\n  }),\n  delete: d(function (key) {\n    var index = eIndexOf.call(this.__mapKeysData__, key);\n    if (index === -1) return false;\n\n    this.__mapKeysData__.splice(index, 1);\n\n    this.__mapValuesData__.splice(index, 1);\n\n    this.emit('_delete', index, key);\n    return true;\n  }),\n  entries: d(function () {\n    return new Iterator(this, 'key+value');\n  }),\n  forEach: d(function (cb\n  /*, thisArg*/\n  ) {\n    var thisArg = arguments[1],\n        iterator,\n        result;\n    callable(cb);\n    iterator = this.entries();\n    result = iterator._next();\n\n    while (result !== undefined) {\n      call.call(cb, thisArg, this.__mapValuesData__[result], this.__mapKeysData__[result], this);\n      result = iterator._next();\n    }\n  }),\n  get: d(function (key) {\n    var index = eIndexOf.call(this.__mapKeysData__, key);\n    if (index === -1) return;\n    return this.__mapValuesData__[index];\n  }),\n  has: d(function (key) {\n    return eIndexOf.call(this.__mapKeysData__, key) !== -1;\n  }),\n  keys: d(function () {\n    return new Iterator(this, 'key');\n  }),\n  set: d(function (key, value) {\n    var index = eIndexOf.call(this.__mapKeysData__, key),\n        emit;\n\n    if (index === -1) {\n      index = this.__mapKeysData__.push(key) - 1;\n      emit = true;\n    }\n\n    this.__mapValuesData__[index] = value;\n    if (emit) this.emit('_add', index, key);\n    return this;\n  }),\n  size: d.gs(function () {\n    return this.__mapKeysData__.length;\n  }),\n  values: d(function () {\n    return new Iterator(this, 'value');\n  }),\n  toString: d(function () {\n    return '[object Map]';\n  })\n}));\nObject.defineProperty(_MapPoly.prototype, Symbol.iterator, d(function () {\n  return this.entries();\n}));\nObject.defineProperty(_MapPoly.prototype, Symbol.toStringTag, d('c', 'Map'));","map":{"version":3,"sources":["/react/cutlery/web-console/node_modules/es6-map/polyfill.js"],"names":["clear","require","eIndexOf","setPrototypeOf","callable","validValue","d","ee","Symbol","iterator","forOf","Iterator","isNative","call","Function","prototype","defineProperties","Object","getPrototypeOf","MapPoly","module","exports","iterable","arguments","keys","values","self","TypeError","Map","__mapKeysData__","__mapValuesData__","value","key","push","create","constructor","length","emit","delete","index","splice","entries","forEach","cb","thisArg","result","_next","undefined","get","has","set","size","gs","toString","defineProperty","toStringTag"],"mappings":"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","sourcesContent":["'use strict';\n\nvar clear          = require('es5-ext/array/#/clear')\n  , eIndexOf       = require('es5-ext/array/#/e-index-of')\n  , setPrototypeOf = require('es5-ext/object/set-prototype-of')\n  , callable       = require('es5-ext/object/valid-callable')\n  , validValue     = require('es5-ext/object/valid-value')\n  , d              = require('d')\n  , ee             = require('event-emitter')\n  , Symbol         = require('es6-symbol')\n  , iterator       = require('es6-iterator/valid-iterable')\n  , forOf          = require('es6-iterator/for-of')\n  , Iterator       = require('./lib/iterator')\n  , isNative       = require('./is-native-implemented')\n\n  , call = Function.prototype.call\n  , defineProperties = Object.defineProperties, getPrototypeOf = Object.getPrototypeOf\n  , MapPoly;\n\nmodule.exports = MapPoly = function (/*iterable*/) {\n\tvar iterable = arguments[0], keys, values, self;\n\tif (!(this instanceof MapPoly)) throw new TypeError('Constructor requires \\'new\\'');\n\tif (isNative && setPrototypeOf && (Map !== MapPoly)) {\n\t\tself = setPrototypeOf(new Map(), getPrototypeOf(this));\n\t} else {\n\t\tself = this;\n\t}\n\tif (iterable != null) iterator(iterable);\n\tdefineProperties(self, {\n\t\t__mapKeysData__: d('c', keys = []),\n\t\t__mapValuesData__: d('c', values = [])\n\t});\n\tif (!iterable) return self;\n\tforOf(iterable, function (value) {\n\t\tvar key = validValue(value)[0];\n\t\tvalue = value[1];\n\t\tif (eIndexOf.call(keys, key) !== -1) return;\n\t\tkeys.push(key);\n\t\tvalues.push(value);\n\t}, self);\n\treturn self;\n};\n\nif (isNative) {\n\tif (setPrototypeOf) setPrototypeOf(MapPoly, Map);\n\tMapPoly.prototype = Object.create(Map.prototype, {\n\t\tconstructor: d(MapPoly)\n\t});\n}\n\nee(defineProperties(MapPoly.prototype, {\n\tclear: d(function () {\n\t\tif (!this.__mapKeysData__.length) return;\n\t\tclear.call(this.__mapKeysData__);\n\t\tclear.call(this.__mapValuesData__);\n\t\tthis.emit('_clear');\n\t}),\n\tdelete: d(function (key) {\n\t\tvar index = eIndexOf.call(this.__mapKeysData__, key);\n\t\tif (index === -1) return false;\n\t\tthis.__mapKeysData__.splice(index, 1);\n\t\tthis.__mapValuesData__.splice(index, 1);\n\t\tthis.emit('_delete', index, key);\n\t\treturn true;\n\t}),\n\tentries: d(function () { return new Iterator(this, 'key+value'); }),\n\tforEach: d(function (cb/*, thisArg*/) {\n\t\tvar thisArg = arguments[1], iterator, result;\n\t\tcallable(cb);\n\t\titerator = this.entries();\n\t\tresult = iterator._next();\n\t\twhile (result !== undefined) {\n\t\t\tcall.call(cb, thisArg, this.__mapValuesData__[result],\n\t\t\t\tthis.__mapKeysData__[result], this);\n\t\t\tresult = iterator._next();\n\t\t}\n\t}),\n\tget: d(function (key) {\n\t\tvar index = eIndexOf.call(this.__mapKeysData__, key);\n\t\tif (index === -1) return;\n\t\treturn this.__mapValuesData__[index];\n\t}),\n\thas: d(function (key) {\n\t\treturn (eIndexOf.call(this.__mapKeysData__, key) !== -1);\n\t}),\n\tkeys: d(function () { return new Iterator(this, 'key'); }),\n\tset: d(function (key, value) {\n\t\tvar index = eIndexOf.call(this.__mapKeysData__, key), emit;\n\t\tif (index === -1) {\n\t\t\tindex = this.__mapKeysData__.push(key) - 1;\n\t\t\temit = true;\n\t\t}\n\t\tthis.__mapValuesData__[index] = value;\n\t\tif (emit) this.emit('_add', index, key);\n\t\treturn this;\n\t}),\n\tsize: d.gs(function () { return this.__mapKeysData__.length; }),\n\tvalues: d(function () { return new Iterator(this, 'value'); }),\n\ttoString: d(function () { return '[object Map]'; })\n}));\nObject.defineProperty(MapPoly.prototype, Symbol.iterator, d(function () {\n\treturn this.entries();\n}));\nObject.defineProperty(MapPoly.prototype, Symbol.toStringTag, d('c', 'Map'));\n"]},"metadata":{},"sourceType":"script"}